<div class="modal-address" >
    <h1>Add new recipient</h1>

    <form name="addressForm">

        <div> 请输入:<input type="text" id="suggestId" size="30" value="百度" style="width:300px;" /></div>
        <div class="row">
            <div class="col-sm-6">
                <label for="baidumap">地址</label></br>
            </div>
            <div class="col-sm-6">
                <div id="container" style="width:300px;height:200px"></div>
            </div>
        </div>
        <label for="province">省</label>
        <input type="text" id="province"/></br>
        <label for="city">市</label>
        <input type="text" id="city"/></br>
        <label for="district">区</label>
        <input type="text" id="district"/></br>
        <label for="street">街道</label>
        <input type="text" id="street"/></br>
        <label for="businesss">公司</label>
        <input type="text" id="business"/></br>

        <script type="text/javascript">
            function G(id) {
                return document.getElementById(id);
            }

            var map = new BMap.Map("container");
            var point = new BMap.Point(116.3964,39.9093);
            map.centerAndZoom(point,13);
            map.enableScrollWheelZoom();

            var ac = new BMap.Autocomplete(    //建立一个自动完成的对象
                    {"input" : "suggestId"
                        ,"location" : map
                    });
            var myValue;
            ac.addEventListener("onconfirm", function(e) {    //鼠标点击下拉列表后的事件
                var _value = e.item.value;
                myValue = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;
                G("province").value = _value.province ;
                console.log(" G(province).value = " +  G("province").value );
                G("city").value = _value.city ;
                G("district").value = _value.district ;
                G("street").value =  _value.street ;
                G("business").value =  _value.business ;
                setPlace();
            });

            function setPlace(){// 创建地址解析器实例
                var myGeo = new BMap.Geocoder();// 将地址解析结果显示在地图上,并调整地图视野
                myGeo.getPoint(myValue, function(point){
                    if (point) {
                        map.centerAndZoom(point, 16);
                        map.addOverlay(new BMap.Marker(point));
                    }
                }, "北京");
            }
        </script>
        <button type="submit" ng-click="addNewAddressSubmit()" >Log in</button>
    </form>

    <p ng-model="test"></p>
</div>

